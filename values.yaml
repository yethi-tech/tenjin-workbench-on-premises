tenjin:
  persistence:
    size: "5Gi" # Size of the storage
    storageClassName: "standard" # Name of the storage class (adjust based on your cluster)
  service:
    type: NodePort
    port: 8080
elasticsearch:
  config:
    bootstrap_memory_lock: true
    ES_JAVA_OPTS: "-Xms512m -Xmx2G"
  persistence:
    accessModes: ReadWriteOnce
    storageClassName: standard
    size: 5Gi
postgres:
  persistence:
    size: 10Gi # Storage size
    accessModes: ReadWriteOnce # Access mode
    storageClassName: standard # StorageClass for dynamic provisioning
environment:
  POSTGRES_DB: tenjin
  POSTGRES_USER: yethi
  POSTGRES_PASSWORD: Yethi123
  DEFAULT_USER_PASSWORD: Welcome@2023
  TENJIN_HOST_NAME: http://localhost
  TENJIN_ALLOWED_URL: http://localhost

dbJob:
  enabled: true
  image: postgres:13
  dbName: "tenjin"
  user: "yethi"
  password: "Yethi123"
  sleepAfterFirst: 20

  queries:
    - |
      INSERT INTO sys_users_password_history (user_id, password_history, updated_at)  
      SELECT id, password, NOW() FROM sys_users WHERE password IS NOT NULL;
    - |
      UPDATE prj_users SET prj_role_mapped = 101 WHERE prj_role_mapped != 100;
    - |
      DELETE FROM common_project_role_permissions;
    - |
      DELETE FROM project_roles_permissions;
    - |
      DELETE FROM prj_roles WHERE id NOT IN (100, 101);




